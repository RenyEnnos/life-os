{
  "meta": {
    "project": "Life OS (Testsprite)",
    "date": "2026-02-03",
    "prepared_by": "Product Development Manager"
  },
  "product_overview": "Life OS is a web-based personal operating system that consolidates habit tracking, task & project management, journaling, finance and university tools, plus an AI assistant into a single unified workspace optimized for daily productivity.",
  "core_goals": [
    "Provide a single, cohesive workspace for personal productivity activities (habits, tasks, projects, journal, finance, university).",
    "Ensure secure, reliable user authentication and account management via Supabase.",
    "Enable fast, optimistic UX for habit and task interactions with near real-time feedback and analytics.",
    "Deliver AI-assisted workflows (Quick Capture parsing, chat assistant insights and actionable suggestions).",
    "Offer an extensible design system and responsive UI that meets WCAG 2.1 AA accessibility standards.",
    "Support measurable progress through gamification (XP, streaks, levels) and analytics dashboards.",
    "Maintain high performance and test coverage (UI and end-to-end tests) across core flows."
  ],
  "key_features": [
    "Authentication: Email/password signup, login, password recovery, session management (Supabase Auth + server endpoints).",
    "Onboarding: 5-step setup wizard to initialize habits, projects, and preferences.",
    "Dashboard: 3-zone layout (Now / Today / Context) with customizable widgets, quick actions, and daily summary.",
    "Habits: Create/edit/delete habits, daily completion checkboxes, optimistic updates, streaks, heatmap and habit analytics.",
    "Tasks & Projects: Task creation, Kanban board (Todo / In Progress / Done), drag-and-drop, priorities, due dates, project grouping, Quick Capture with AI parsing.",
    "Journal: Daily journaling editor, mood tracking, and journal history list.",
    "Focus Mode: Pomodoro-style focus timer and session management for deep work.",
    "Calendar: Month/week calendar with events and Google Calendar integration.",
    "AI Assistant: Chat interface (FAB), Quick Capture parsing endpoint, AI-generated insights and suggested actions (create task/habit/entry).",
    "Gamification: XP, levels, achievements, badges, and progress components.",
    "Finances: Transaction tracking, AI-assisted categorization, summary cards and charts.",
    "University: Courses, assignments, grade calculator and What-If simulator for academic planning.",
    "Health Tracking: Sleep, water, and exercise metrics dashboard.",
    "Profile & Settings: User preferences, theme (light/dark), account management and avatar support.",
    "Design System: Shared UI components (Button, Card, Modal, Toast) and responsive layout tokens.",
    "Backend API: Express server with auth and resource endpoints for habits, tasks and integrations; PostgreSQL for persistence."
  ],
  "user_flow_summary": [
    "Authentication & Onboarding: User signs up or logs in (Supabase); new users are guided through the 5-step onboarding flow to set initial habits, projects and preferences; success redirects to Dashboard.",
    "Dashboard Navigation: User lands on Dashboard (Now/Today/Context), interacts with widgets, marks habits complete, uses Quick Capture to add tasks/habits/journal entries and views AI insights in the Context zone.",
    "Habit Tracking: From Habit list or Dashboard widget user toggles completion (optimistic UI), views heatmap and analytics, edits or deletes habits; logs persist to habit_logs and update streaks.",
    "Task Management & Quick Capture: User opens Kanban board, creates/edits tasks with priority and due date, drags between columns to update status; Quick Capture parses natural language via AI endpoint and presents preview before creation.",
    "Journal Flow: User creates daily journal entries using editor, tags mood and reflections, and can browse previous entries in the Journal list.",
    "Focus Session: User starts a Focus Timer (Pomodoro), tracks sessions and links sessions to tasks; session completion awards XP and increments streak logic.",
    "Calendar & Events: User views and creates calendar events, syncs with Google Calendar, and navigates between month/week views to manage schedule.",
    "AI Assistant Interactions: User taps FAB to open chat, asks questions or requests actions; AI suggests actions (create tasks/habits/insights) and the user confirms to execute them.",
    "Account & Preferences: User updates profile, avatar and settings (theme, notifications); changes reflect in UI and persisted preferences."
  ],
  "validation_criteria": [
    "Authentication: Successful signup/login flows; session persists after refresh; password recovery email workflow functions; protected routes block unauthenticated access.",
    "Onboarding: New users complete the 5-step setup and land on Dashboard with initial data seeded; cancellation returns user to Dashboard or sign-in as appropriate.",
    "Dashboard: Dashboard loads all three zones within performance targets; widgets render accurate data (habits, tasks, finance summaries); Quick Capture opens, parses and creates items correctly.",
    "Habits: Users can create/edit/delete habits; marking completion updates UI optimistically and persists to backend; heatmap and streak calculations match logged data; habit stats endpoint returns correct aggregates.",
    "Tasks & Projects: Task CRUD works; drag-and-drop updates status and persists; Quick Capture AI parsing returns expected structured output and preview matches created item; project grouping and filters function.",
    "Journal: Journal entries can be created, edited and listed; mood metadata is saved; entries render correctly in history.",
    "Focus Mode: Timer starts/stops, session counts persist, and completion awards XP; timer respects reduced-motion preference.",
    "Calendar: Events CRUD functions and Google Calendar sync operates bi-directionally (or per integration spec); calendar view performance and navigation are responsive.",
    "AI Assistant: Chat endpoint responds within SLA; AI suggestions are actionable and any confirmed actions (create task/habit) execute correctly; chat history persists for session.",
    "Finances & University: Transactions and courses/assignments CRUD; AI categorization suggestions appear for new transactions; grade calculations and What-If predictions match expected math.",
    "Design & Accessibility: UI components meet WCAG 2.1 AA; keyboard navigation and ARIA labels present; color contrast and touch target sizes conform to spec.",
    "Performance & Reliability: UI interactions <50ms target where measurable, data operations <200ms for typical queries, AI responses <2s baseline; Lighthouse score target >90; bundle gzipped <500KB.",
    "Testing: Unit tests for core hooks/components (Vitest) pass; Playwright end-to-end tests cover authentication, dashboard load, habit logging, task drag/drop, Quick Capture and AI assistant flows."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React 18",
      "Vite",
      "Tailwind CSS",
      "Zustand",
      "TanStack Query",
      "React Router DOM",
      "Supabase",
      "Express",
      "PostgreSQL",
      "Framer Motion",
      "Zod",
      "Recharts",
      "Vitest",
      "Playwright"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication with Supabase Auth, login, register, password recovery",
        "files": [
          "src/features/auth/components/LoginPage.tsx",
          "src/features/auth/components/RegisterPage.tsx",
          "src/features/auth/hooks/useAuth.ts",
          "src/features/auth/api/authService.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Main dashboard with overview widgets, quick actions, and daily summary",
        "files": [
          "src/features/dashboard/components/Dashboard.tsx",
          "src/features/dashboard/components/DashboardWidgets.tsx",
          "src/features/dashboard/hooks/useDashboard.ts"
        ]
      },
      {
        "name": "Habits",
        "description": "Habit tracking system with daily completion, streaks, and analytics",
        "files": [
          "src/features/habits/components/HabitCard.tsx",
          "src/features/habits/components/HabitList.tsx",
          "src/features/habits/hooks/useHabits.ts",
          "src/features/habits/api/habitService.ts"
        ]
      },
      {
        "name": "Tasks",
        "description": "Task management with priorities, due dates, and project organization",
        "files": [
          "src/features/tasks/components/TaskList.tsx",
          "src/features/tasks/components/TaskCard.tsx",
          "src/features/tasks/hooks/useTasks.ts",
          "src/features/tasks/api/taskService.ts"
        ]
      },
      {
        "name": "Journal",
        "description": "Daily journaling with mood tracking and reflection prompts",
        "files": [
          "src/features/journal/components/JournalEditor.tsx",
          "src/features/journal/components/JournalList.tsx",
          "src/features/journal/hooks/useJournal.ts"
        ]
      },
      {
        "name": "Focus Mode",
        "description": "Pomodoro timer and focus sessions for deep work",
        "files": [
          "src/features/focus/components/FocusTimer.tsx",
          "src/features/focus/hooks/useFocus.ts"
        ]
      },
      {
        "name": "Calendar",
        "description": "Calendar view with events and Google Calendar integration",
        "files": [
          "src/features/calendar/components/CalendarView.tsx",
          "src/features/calendar/hooks/useCalendar.ts"
        ]
      },
      {
        "name": "Gamification",
        "description": "XP system, achievements, levels, and rewards",
        "files": [
          "src/features/gamification/components/LevelProgress.tsx",
          "src/features/gamification/components/Achievements.tsx",
          "src/features/gamification/hooks/useGamification.ts"
        ]
      },
      {
        "name": "Projects",
        "description": "Project management with milestones and task grouping",
        "files": [
          "src/features/projects/components/ProjectList.tsx",
          "src/features/projects/components/ProjectCard.tsx",
          "src/features/projects/hooks/useProjects.ts"
        ]
      },
      {
        "name": "AI Assistant",
        "description": "AI-powered assistant for productivity suggestions",
        "files": [
          "src/features/ai-assistant/components/AIAssistant.tsx",
          "src/features/ai-assistant/hooks/useAI.ts"
        ]
      },
      {
        "name": "Settings",
        "description": "User preferences, theme settings, and account management",
        "files": [
          "src/features/settings/components/SettingsPage.tsx",
          "src/features/settings/hooks/useSettings.ts"
        ]
      },
      {
        "name": "Profile",
        "description": "User profile management and avatar",
        "files": [
          "src/features/profile/components/ProfilePage.tsx",
          "src/features/profile/hooks/useProfile.ts"
        ]
      },
      {
        "name": "Onboarding",
        "description": "New user onboarding flow with setup wizard",
        "files": [
          "src/features/onboarding/components/OnboardingFlow.tsx",
          "src/features/onboarding/hooks/useOnboarding.ts"
        ]
      },
      {
        "name": "Design System",
        "description": "Shared UI components and design tokens",
        "files": [
          "src/features/design-system/components/Button.tsx",
          "src/features/design-system/components/Card.tsx",
          "src/features/design-system/components/Modal.tsx"
        ]
      },
      {
        "name": "Health Tracking",
        "description": "Health metrics like sleep, water intake, and exercise",
        "files": [
          "src/features/health/components/HealthDashboard.tsx",
          "src/features/health/hooks/useHealth.ts"
        ]
      },
      {
        "name": "University",
        "description": "Academic tracking with courses, grades, and schedule",
        "files": [
          "src/features/university/components/UniversityDashboard.tsx",
          "src/features/university/hooks/useUniversity.ts"
        ]
      },
      {
        "name": "Finances",
        "description": "Basic financial tracking and budgeting",
        "files": [
          "src/features/finances/components/FinancesDashboard.tsx",
          "src/features/finances/hooks/useFinances.ts"
        ]
      },
      {
        "name": "Backend API",
        "description": "Express server with authentication and data endpoints",
        "files": [
          "api/server.ts",
          "api/routes/auth.ts",
          "api/routes/habits.ts",
          "api/routes/tasks.ts"
        ]
      }
    ]
  }
}
